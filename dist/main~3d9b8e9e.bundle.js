!function(n){function r(r){for(var t,o,c=r[0],u=r[1],s=r[2],l=0,f=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(t in u)Object.prototype.hasOwnProperty.call(u,t)&&(n[t]=u[t]);for(d&&d(r);f.length;)f.shift()();return i.push.apply(i,s||[]),e()}function e(){for(var n,r=0;r<i.length;r++){for(var e=i[r],t=!0,c=1;c<e.length;c++){var u=e[c];0!==a[u]&&(t=!1)}t&&(i.splice(r--,1),n=o(o.s=e[0]))}return n}var t={},a={0:0},i=[];function o(r){if(t[r])return t[r].exports;var e=t[r]={i:r,l:!1,exports:{}};return n[r].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=t,o.d=function(n,r,e){o.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:e})},o.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,r){if(1&r&&(n=o(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var t in n)o.d(e,t,function(r){return n[r]}.bind(null,t));return e},o.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(r,"a",r),r},o.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},o.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=r,c=c.slice();for(var s=0;s<c.length;s++)r(c[s]);var d=u;i.push([20,1,2,3]),e()}([,,,,,,,,,function(n,r,e){var t=e(3),a=e(10);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[n.i,a,""]]);var i={insert:"head",singleton:!1};t(a,i);n.exports=a.locals||{}},function(n,r,e){var t=e(4),a=e(5),i=e(11);r=t(!1);var o=a(i);r.push([n.i,'* {\r\n    padding: 0;\r\n    margin: 0;\r\n    box-sizing: border-box;\r\n}\r\n\r\nbody, html {\r\n    margin: 0;\r\n    padding: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    scroll-behavior: smooth;\r\n}\r\n\r\nbody {\r\n    font-family: "Raleway", sans-serif;\r\n    font-size: 12px;\r\n    color: #424242;\r\n}\r\n\r\nbody h1 {\r\n    font-family: "Fredoka One", cursive;\r\n    font-weight: 300;\r\n}\r\n\r\n.skip-link {\r\n    position: absolute;\r\n    top: -40px;\r\n    left: 0;\r\n    background-color: #cd704d;\r\n    color: white;\r\n    padding: 8px;\r\n    z-index: 100;\r\n}\r\n  \r\n.skip-link:focus {\r\n    top: 0;\r\n}\r\n\r\n/*\r\n * Header and Top level navigation\r\n */\r\n\r\n.header {\r\n    transition: min-height 0.3s;\r\n    display: grid;\r\n    grid-template-columns: 2fr 2fr;\r\n    background-color: #cd704d;\r\n    color: #fff;\r\n}\r\n\r\n.header__inner {\r\n    width: 100%;\r\n    text-align: left;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n}\r\n\r\n.header__title {\r\n    font-size: 2.7em;\r\n    margin: 0.5em 0.25em;\r\n    display: inline-block;\r\n}\r\n\r\n.header__menu {\r\n    padding: 8px;\r\n    display: inline;\r\n    background-color: #cd704d;\r\n    border: 0cm;\r\n    color: white;\r\n}\r\n\r\n.nav {\r\n    width: 100%;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n}\r\n\r\n.nav__list {\r\n    width: 100%;\r\n    padding: 0;\r\n    margin: 0;\r\n    text-align: right;\r\n    list-style: none;\r\n}\r\n\r\n.nav__item {\r\n    box-sizing: border-box;\r\n    display: inline-block;\r\n    width: 20%;\r\n    text-align: right;\r\n    margin: 24px 14px;\r\n    text-transform: uppercase;\r\n}\r\n\r\n.nav a {\r\n    text-decoration: none;\r\n    display: inline-block;\r\n    color: #fff;\r\n    font-size: 14px;\r\n    min-height: 44px;\r\n    min-width: 44px;\r\n    padding: 12px 0;\r\n}\r\n\r\n.nav a:hover {\r\n    text-decoration: underline;\r\n    color: wheat;\r\n}\r\n\r\n/*\r\n * Jumbotron\r\n */\r\n\r\n.hero {\r\n    display: flex;\r\n    align-items: center;\r\n    min-height: 380px;\r\n    width: 100%;\r\n    text-align: center;\r\n    background-image: url('+o+");\r\n    background-position: center;\r\n    background-size: cover;\r\n    background-color: rgb(166, 171, 199);\r\n}\r\n\r\n.hero__inner {\r\n    margin: 0 auto;\r\n    max-width: 800px;\r\n}\r\n\r\n.hero__title {\r\n    color: #fff;\r\n    font-weight: 400;\r\n    font-size: 36px;\r\n    padding-left: 5px;\r\n    padding-right: 5px;\r\n}\r\n\r\n.hero__tagline {\r\n    color: #fff;\r\n    margin-top: 16px;\r\n    font-size: 18px;\r\n    padding-left: 5px;\r\n    padding-right: 5px;\r\n}\r\n\r\n/*\r\n * catalogs\r\n */\r\n\r\nmain h2 {\r\n    text-align: center;\r\n    font-size: 1.8em;\r\n    margin-top: 20px;\r\n} \r\n\r\n.card {\r\n    box-shadow: 2px 4px 8px 0 rgba(0, 0, 0, 0.2);\r\n}\r\n\r\nmain .card {\r\n    border-radius: 5px;\r\n    padding: 10px 30px;\r\n    margin: 20px;\r\n}\r\n\r\n.catalogs {\r\n    display: grid;\r\n    grid-template-columns: repeat(3, 1fr);\r\n}\r\n\r\n.catalog {\r\n    margin: 20px 15px;\r\n}\r\n\r\n.restaurant {\r\n    display: grid;\r\n    grid-template-rows: auto 350px;\r\n    grid-template-columns: repeat(3, 1fr);\r\n}\r\n\r\n.info {\r\n    grid-row-start: 1;\r\n    grid-row-end: 3;\r\n}\r\n\r\n.reviews {\r\n    grid-column-start: 2;\r\n    grid-column-end: 4;\r\n    overflow-y: auto;\r\n}\r\n\r\n.container {\r\n    position: relative;\r\n}\r\n\r\n.city {\r\n    position: absolute;\r\n    background-color: #cd704d;\r\n    color: white;\r\n    top: 30px;\r\n    left: 0;\r\n    padding: 10px 30px;\r\n    font-size: 14px;\r\n}\r\n\r\n.featured-image {\r\n    width: 100%;\r\n    max-height: 225px;\r\n    object-fit: cover;\r\n    object-position: center;\r\n}\r\n\r\nfigcaption {\r\n    text-align: left;\r\n    margin: 15px 0;\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n    color: #cd704d;\r\n}\r\n\r\nfigcaption a {\r\n    text-decoration: none;\r\n    padding: 12px 0;\r\n    color: #cd704d;\r\n}\r\n\r\nmain p {\r\n    text-align: justify;\r\n    font-size: 18px;\r\n    line-height: 35px;\r\n    margin-bottom: 25px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    display: -webkit-box;  \r\n    -webkit-line-clamp: 6;\r\n    -webkit-box-orient: vertical;\r\n}\r\n\r\n.info p {\r\n    font-size: 14px;\r\n    line-height: 25px;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.review {\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.review p {\r\n    font-size: 14px;\r\n    line-height: 25px;\r\n    margin-bottom: 0;\r\n}\r\n\r\n.restaurant li {\r\n    list-style: none;\r\n}\r\n\r\nli i {\r\n    color: #cd704d;\r\n}\r\n\r\n.restaurant ul {\r\n    font-size: 14px;\r\n    line-height: 25px;\r\n}\r\n\r\n.restaurant h3 {\r\n    font-size: 18px;\r\n    margin-bottom: 15px;\r\n    color: #cd704d;\r\n}\r\n\r\n.restaurant h4 {\r\n    font-size: 16px;\r\n    margin-bottom: 10px;\r\n    color: #cd704d;\r\n}\r\n\r\n.review__date {\r\n    color: #cd704d;\r\n}\r\n\r\n::-webkit-scrollbar {\r\n    width: 15px;\r\n}\r\n  \r\n::-webkit-scrollbar-track {\r\n    box-shadow: inset 0 0 5px grey; \r\n    border-radius: 10px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n    background: #cd704d; \r\n    border-radius: 10px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb:hover {\r\n    background: #b45d3d; \r\n}\r\n\r\n/*\r\n   Favorite\r\n*/\r\n.favorite {\r\n    font-size: 18px;\r\n    position: fixed;\r\n    bottom: 16px;\r\n    right: 16px;\r\n    background-color: #cd704d;\r\n    color: white;\r\n    border: 0;\r\n    border-radius: 50%;\r\n    width: 55px;\r\n    height: 55px;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n/*\r\n * footer\r\n */\r\n\r\nfooter {\r\n    background-color: #cd704d;\r\n    padding: 2em;\r\n    width: 100%;\r\n    text-align: center;\r\n}\r\n\r\nfooter p {\r\n    display: inline-block;\r\n    margin: 0 1em;\r\n    font-size: 14px;\r\n    color: #fff;\r\n}",""]),n.exports=r},function(n,r,e){"use strict";e.r(r),r.default=e.p+"images/hero-image_4-large.jpg"},function(n,r,e){var t=e(3),a=e(13);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[n.i,a,""]]);var i={insert:"head",singleton:!1};t(a,i);n.exports=a.locals||{}},function(n,r,e){var t=e(4),a=e(5),i=e(14);r=t(!1);var o=a(i);r.push([n.i,"@media screen and (max-width: 499px) {\r\n    .hero__tagline {\r\n        font-size: 15px;\r\n    }\r\n\r\n    figcaption {\r\n        font-size: 18px;\r\n    }\r\n\r\n    main p {\r\n        font-size: 14px;\r\n    }\r\n}\r\n\r\n@media screen and (max-width: 713px) {\r\n    .nav {\r\n        z-index: 10;\r\n        background-color: #cd704d;\r\n        width: 300px;\r\n        position: absolute;\r\n        /* This trasform moves the drawer off canvas. */\r\n        -webkit-transform: translate(-300px, 47px);\r\n        transform: translate(-300px, 47px);\r\n\r\n        /* Optionally, we animate the drawer. */\r\n        transition: transform 0.3s ease;\r\n    }\r\n\r\n    .open {\r\n        -webkit-transform: translate(0, 47px);\r\n        transform: translate(0, 47px);\r\n    }\r\n\r\n    .nav__item {\r\n        display: list-item;\r\n        border-bottom: 1px solid #fff;\r\n        width: 90%;\r\n        text-align: left;\r\n    }\r\n\r\n    .header {\r\n        display: grid;\r\n        grid-template-columns: 70px auto;    \r\n    }\r\n\r\n    .header__inner {\r\n        font-size: 10px;\r\n    }\r\n\r\n    .header__menu {\r\n        font-size: 28px;\r\n    }\r\n\r\n    .nav a {\r\n        font-size: 12px;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 714px) {\r\n    .header__menu {\r\n        display: none;\r\n    }\r\n}\r\n\r\n@media screen and (max-width: 820px) {\r\n    .catalogs {\r\n        display: grid;\r\n        grid-template-columns: 1fr 1fr;\r\n        grid-column-gap: 10px;\r\n        grid-row-gap: 16px;\r\n    }\r\n\r\n    .restaurant {\r\n        display: grid;\r\n        grid-template-columns: repeat(2, 1fr);\r\n        grid-template-rows: auto auto auto 250px;\r\n    }\r\n\r\n    .restaurant .featured-image {\r\n        max-height: 360px;\r\n    }\r\n\r\n    .info {\r\n        grid-column-start: 1;\r\n        grid-column-end: 4;\r\n    }\r\n\r\n    .reviews {\r\n        grid-column-start: 1;\r\n        grid-column-end: 4;\r\n    }\r\n    \r\n    .city {\r\n        top: 30px;\r\n        left: 0;\r\n        padding: 10px 20px;\r\n        font-size: 12px;\r\n    }\r\n}\r\n\r\n@media screen and (max-width: 550px) {\r\n    .catalogs {\r\n        display: grid;\r\n        grid-template-columns: 1fr;\r\n    }\r\n    main h2 {\r\n        font-size: 1em;\r\n    }\r\n}\r\n\r\n@media screen and (max-width: 450px) {\r\n    .hero {\r\n        background-image: url("+o+");\r\n    }\r\n    \r\n    .restaurant {\r\n        display: grid;\r\n        grid-template-columns: 1fr;\r\n        grid-template-rows: auto auto auto 250px;\r\n    }\r\n\r\n    .info {\r\n        grid-row-start: 1;\r\n        grid-row-end: 2;\r\n    }\r\n\r\n    .foods {\r\n        grid-row-start: 2;\r\n        grid-row-end: 3;\r\n    }\r\n\r\n    .drinks {\r\n        grid-column-start: 1;\r\n    }\r\n}\r\n\r\n@media screen and (max-width: 1085px) {\r\n    main h2 {\r\n        font-size: 1.5em;\r\n    }\r\n}",""]),n.exports=r},function(n,r,e){"use strict";e.r(r),r.default=e.p+"images/hero-image_4-small.jpg"},,,,,,function(n,r,e){"use strict";e.r(r);e(8),e(9),e(12);var t={init:function(n){var r=this,e=n.button,t=n.drawer,a=n.content;e.addEventListener("click",(function(n){r._toggleDrawer(n,t)})),a.addEventListener("click",(function(n){r._closeDrawer(n,t)}))},_toggleDrawer:function(n,r){n.stopPropagation(),r.classList.toggle("open")},_closeDrawer:function(n,r){n.stopPropagation(),r.classList.remove("open")}},a={parseActiveUrlWithCombiner:function(){var n=window.location.hash.slice(1).toLowerCase(),r=this._urlSplitter(n);return this._urlCombiner(r)},parseActiveUrlWithoutCombiner:function(){var n=window.location.hash.slice(1).toLowerCase();return this._urlSplitter(n)},_urlSplitter:function(n){var r=n.split("/");return{resource:r[1]||null,id:r[2]||null,verb:r[3]||null}},_urlCombiner:function(n){return(n.resource?"/".concat(n.resource):"/")+(n.id?"/:id":"")+(n.verb?"/".concat(n.verb):"")}},i={KEY:"12345",BASE_URL:"https://dicoding-restaurant-api.el.r.appspot.com/",BASE_IMAGE_URL:"https://dicoding-restaurant-api.el.r.appspot.com/images/medium/",CACHE_NAME:(new Date).toISOString(),DATABASE_NAME:"foodies-helper-database",DATABASE_VERSION:1,OBJECT_STORE_NAME:"restaurants"},o={RESTAURANT_LIST:"".concat(i.BASE_URL,"list"),DETAIL:function(n){return"".concat(i.BASE_URL,"detail/").concat(n)}};function c(n,r,e,t,a,i,o){try{var c=n[i](o),u=c.value}catch(n){return void e(n)}c.done?r(u):Promise.resolve(u).then(t,a)}function u(n){return function(){var r=this,e=arguments;return new Promise((function(t,a){var i=n.apply(r,e);function o(n){c(i,t,a,o,u,"next",n)}function u(n){c(i,t,a,o,u,"throw",n)}o(void 0)}))}}function s(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}var d=function(){function n(){!function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,n)}var r,e,t,a,i,c;return r=n,e=null,t=[{key:"restaurantList",value:(c=u(regeneratorRuntime.mark((function n(){var r,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(o.RESTAURANT_LIST);case 2:return r=n.sent,n.next=5,r.json();case 5:return e=n.sent,n.abrupt("return",e.restaurants);case 7:case"end":return n.stop()}}),n)}))),function(){return c.apply(this,arguments)})},{key:"detailStatus",value:(i=u(regeneratorRuntime.mark((function n(r){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(o.DETAIL(r));case 2:return e=n.sent,n.next=5,e.json();case 5:return t=n.sent,n.abrupt("return",t.error);case 7:case"end":return n.stop()}}),n)}))),function(n){return i.apply(this,arguments)})},{key:"detailRestaurant",value:(a=u(regeneratorRuntime.mark((function n(r){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(o.DETAIL(r));case 2:return e=n.sent,n.next=5,e.json();case 5:return t=n.sent,n.abrupt("return",t.restaurant);case 7:case"end":return n.stop()}}),n)}))),function(n){return a.apply(this,arguments)})}],e&&s(r.prototype,e),t&&s(r,t),n}();e(15),e(2),e(19);function l(n,r){var e;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=function(n,r){if(!n)return;if("string"==typeof n)return f(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return f(n,r)}(n))||r&&n&&"number"==typeof n.length){e&&(n=e);var t=0,a=function(){};return{s:a,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return o=n.done,n},e:function(n){c=!0,i=n},f:function(){try{o||null==e.return||e.return()}finally{if(c)throw i}}}}function f(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}var p=function(n){var r=n.id,e=n.name,t=n.pictureId,a=n.rating,o=n.city,c=n.description;return'\n    <div class="catalog">\n        <div class="container">\n            <div class="city">'.concat(o,'</div>\n            <figure>\n                <img class="lazyload featured-image" data-src="').concat(i.BASE_IMAGE_URL+t,'" alt="').concat(e,'" crossorigin="anonymous">\n                <figcaption class="name_rating">\n                    Rating: ').concat(a,' <br> \n                    <a href="',"/#/detail/".concat(r),'">').concat(e,"</a></figcaption>\n            </figure>\n        </div>\n        <p> ").concat(c," </p>\n    </div>\n  ")},g=function(n){var r,e=n.name,t=n.pictureId,a=n.rating,o=n.city,c=n.address,u=n.categories,s=n.menus,d=n.consumerReviews,f=n.description,p="",g="",m="",h=l(s.foods);try{for(h.s();!(r=h.n()).done;){var v=r.value;p+='<li><fa-icon class="fas fa-angle-right" aria-hidden="true"></fa-icon> '.concat(v.name,"</li>")}}catch(n){h.e(n)}finally{h.f()}var x,w=l(s.drinks);try{for(w.s();!(x=w.n()).done;){var b=x.value;g+='<li><fa-icon class="fas fa-angle-right" aria-hidden="true"></fa-icon> '.concat(b.name,"</li>")}}catch(n){w.e(n)}finally{w.f()}var y,_=l(d);try{for(_.s();!(y=_.n()).done;){var k=y.value;m+='\n      <div class="review">\n          <p><fa-icon class="fas fa-user" aria-hidden="true"></fa-icon> '.concat(k.name,"</p>\n          <p>").concat(k.review,'</p>\n          <p class="review__date">').concat(k.date,"</p>\n      </div>\n       ")}}catch(n){_.e(n)}finally{_.f()}return'\n      <div class="catalog info">\n        <div class="container">\n            <div class="city">'.concat(o,'</div>\n            <figure>\n                <img src="').concat(i.BASE_IMAGE_URL+t,'" class="featured-image" alt="').concat(e,'" crossorigin="anonymous">\n                <figcaption>\n                    Rating: ').concat(a," <br> \n                    ").concat(e,'</figcaption>\n            </figure>\n            <h3><fa-icon class="fas fa-info-circle" aria-hidden="true"></fa-icon> Information</h3>\n            <h4>Address</h3>\n            <p>').concat(c,"</p>\n            <h4>Menu Categories</h3>\n            <p>").concat(u.map((function(n){return n.name})).join(", "),"</p>\n            <h4>About Restaurant</h3>\n            <p>").concat(f,'</p>\n        </div>\n      </div>\n      <div class="catalog foods">\n        <h3><fa-icon class="fas fa-hamburger" aria-hidden="true"></fa-icon> Foods</h3>\n        <ul>').concat(p,'</ul>\n      </div>\n      <div class="catalog drinks">\n        <h3><fa-icon class="fas fa-mug-hot" aria-hidden="true"></fa-icon> Beverages</h3>\n        <ul>').concat(g,'</ul>\n      </div>\n      <div class="catalog reviews">\n        <h3><fa-icon class="fas fa-comments" aria-hidden="true"></fa-icon> Reviews</h3>\n        ').concat(m,"\n      </div>\n    ")};function m(n,r,e,t,a,i,o){try{var c=n[i](o),u=c.value}catch(n){return void e(n)}c.done?r(u):Promise.resolve(u).then(t,a)}function h(n){return function(){var r=this,e=arguments;return new Promise((function(t,a){var i=n.apply(r,e);function o(n){m(i,t,a,o,c,"next",n)}function c(n){m(i,t,a,o,c,"throw",n)}o(void 0)}))}}var v={render:function(){return h(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",'\n      <div class="content">\n        <h2>Culinary Catalog</h2>\n        <section id="resto-catalogs" class="card catalogs"></section>\n      </div>\n      ');case 1:case"end":return n.stop()}}),n)})))()},afterRender:function(){return h(regeneratorRuntime.mark((function n(){var r,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.restaurantList();case 2:r=n.sent,e=document.querySelector("#resto-catalogs"),r.forEach((function(n){e.innerHTML+=p(n)}));case 5:case"end":return n.stop()}}),n)})))()}},x=e(7);function w(n,r,e,t,a,i,o){try{var c=n[i](o),u=c.value}catch(n){return void e(n)}c.done?r(u):Promise.resolve(u).then(t,a)}function b(n){return function(){var r=this,e=arguments;return new Promise((function(t,a){var i=n.apply(r,e);function o(n){w(i,t,a,o,c,"next",n)}function c(n){w(i,t,a,o,c,"throw",n)}o(void 0)}))}}var y=i.DATABASE_NAME,_=i.DATABASE_VERSION,k=i.OBJECT_STORE_NAME,R=Object(x.a)(y,_,{upgrade:function(n){n.createObjectStore(k,{keyPath:"id"})}}),A={getRestaurant:function(n){return b(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,R;case 4:return r.abrupt("return",r.sent.get(k,n));case 5:case"end":return r.stop()}}),r)})))()},getAllRestaurants:function(){return b(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R;case 2:return n.abrupt("return",n.sent.getAll(k));case 3:case"end":return n.stop()}}),n)})))()},putRestaurant:function(n){return b(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.hasOwnProperty("id")){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,R;case 4:return r.abrupt("return",r.sent.put(k,n));case 5:case"end":return r.stop()}}),r)})))()},deleteRestaurant:function(n){return b(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,R;case 2:return r.abrupt("return",r.sent.delete(k,n));case 3:case"end":return r.stop()}}),r)})))()}};function S(n,r,e,t,a,i,o){try{var c=n[i](o),u=c.value}catch(n){return void e(n)}c.done?r(u):Promise.resolve(u).then(t,a)}function E(n){return function(){var r=this,e=arguments;return new Promise((function(t,a){var i=n.apply(r,e);function o(n){S(i,t,a,o,c,"next",n)}function c(n){S(i,t,a,o,c,"throw",n)}o(void 0)}))}}var P={init:function(n){var r=this;return E(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.favButtonContainer,a=n.restaurant,r._favButtonContainer=t,r._restaurant=a,e.next=5,r._renderButton();case 5:case"end":return e.stop()}}),e)})))()},_renderButton:function(){var n=this;return E(regeneratorRuntime.mark((function r(){var e;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=n._restaurant.id,r.next=3,n._isRestaurantExist(e);case 3:if(!r.sent){r.next=7;break}n._renderfavorited(),r.next=8;break;case 7:n._renderfav();case 8:case"end":return r.stop()}}),r)})))()},_isRestaurantExist:function(n){return E(regeneratorRuntime.mark((function r(){var e;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,A.getRestaurant(n);case 2:return e=r.sent,r.abrupt("return",!!e);case 4:case"end":return r.stop()}}),r)})))()},_renderfav:function(){var n=this;this._favButtonContainer.innerHTML='\n  <button aria-label="save restaurant as favorite" id="favButton" class="favorite">\n     <fa-icon class="far fa-star" aria-hidden="true"></fa-icon>\n  </button>\n',document.querySelector("#favButton").addEventListener("click",E(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,A.putRestaurant(n._restaurant);case 2:n._renderButton();case 3:case"end":return r.stop()}}),r)}))))},_renderfavorited:function(){var n=this;this._favButtonContainer.innerHTML='\n  <button aria-label="remove restaurant from favorite" id="favButton" class="favorite">\n    <fa-icon class="fas fa-star" aria-hidden="true"></fa-icon>\n  </button>\n',document.querySelector("#favButton").addEventListener("click",E(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,A.deleteRestaurant(n._restaurant.id);case 2:n._renderButton();case 3:case"end":return r.stop()}}),r)}))))}};function z(n,r,e,t,a,i,o){try{var c=n[i](o),u=c.value}catch(n){return void e(n)}c.done?r(u):Promise.resolve(u).then(t,a)}function T(n){return function(){var r=this,e=arguments;return new Promise((function(t,a){var i=n.apply(r,e);function o(n){z(i,t,a,o,c,"next",n)}function c(n){z(i,t,a,o,c,"throw",n)}o(void 0)}))}}function L(n,r,e,t,a,i,o){try{var c=n[i](o),u=c.value}catch(n){return void e(n)}c.done?r(u):Promise.resolve(u).then(t,a)}function B(n){return function(){var r=this,e=arguments;return new Promise((function(t,a){var i=n.apply(r,e);function o(n){L(i,t,a,o,c,"next",n)}function c(n){L(i,t,a,o,c,"throw",n)}o(void 0)}))}}var O={"/":v,"/culinary-catalog":v,"/detail/:id":{render:function(){return T(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",'\n      <div class="content">\n        <h2>Detail Page</h2>\n        <article id="resto-catalogs" class="card restaurant"></article>\n        <div id="favoriteButtonContainer"></div>\n      </div>\n      ');case 1:case"end":return n.stop()}}),n)})))()},afterRender:function(){return T(regeneratorRuntime.mark((function n(){var r,e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.parseActiveUrlWithoutCombiner(),n.next=3,d.detailRestaurant(r.id);case 3:return e=n.sent,n.next=6,d.detailStatus(r.id);case 6:t=n.sent,document.querySelector("#resto-catalogs").innerHTML=!1===t?g(e):"\n  <h3> Please go online to see the restaurant details. </h3>\n",P.init({favButtonContainer:document.querySelector("#favoriteButtonContainer"),restaurant:{id:e.id,name:e.name,city:e.city,description:e.description,pictureId:e.pictureId,rating:e.rating}});case 10:case"end":return n.stop()}}),n)})))()}},"/favorite":{render:function(){return B(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",'\n      <div class="content">\n        <h2>Favorite Restaurants</h2>\n        <section id="resto-catalogs" class="card catalogs">\n\n        </section>\n      </div>\n      ');case 1:case"end":return n.stop()}}),n)})))()},afterRender:function(){return B(regeneratorRuntime.mark((function n(){var r,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A.getAllRestaurants();case 2:r=n.sent,e=document.querySelector("#resto-catalogs"),r.forEach((function(n){e.innerHTML+=p(n)}));case 5:case"end":return n.stop()}}),n)})))()}}};function j(n,r,e,t,a,i,o){try{var c=n[i](o),u=c.value}catch(n){return void e(n)}c.done?r(u):Promise.resolve(u).then(t,a)}function C(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}var M=function(){function n(r){var e=r.button,t=r.drawer,a=r.content;!function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,n),this._button=e,this._drawer=t,this._content=a,this._initialAppShell()}var r,e,i,o,c;return r=n,(e=[{key:"_initialAppShell",value:function(){t.init({button:this._button,drawer:this._drawer,content:this._content})}},{key:"renderPage",value:(o=regeneratorRuntime.mark((function n(){var r,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.parseActiveUrlWithCombiner(),e=O[r],n.next=4,e.render();case 4:return this._content.innerHTML=n.sent,n.next=7,e.afterRender();case 7:case"end":return n.stop()}}),n,this)})),c=function(){var n=this,r=arguments;return new Promise((function(e,t){var a=o.apply(n,r);function i(n){j(a,e,t,i,c,"next",n)}function c(n){j(a,e,t,i,c,"throw",n)}i(void 0)}))},function(){return c.apply(this,arguments)})}])&&C(r.prototype,e),i&&C(r,i),n}(),I=e(6),D=e.n(I);function U(n,r,e,t,a,i,o){try{var c=n[i](o),u=c.value}catch(n){return void e(n)}c.done?r(u):Promise.resolve(u).then(t,a)}var q=function(){var n,r=(n=regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!("serviceWorker"in navigator)){n.next=4;break}return n.next=3,D.a.register();case 3:return n.abrupt("return");case 4:console.log("Service worker not supported in this browser");case 5:case"end":return n.stop()}}),n)})),function(){var r=this,e=arguments;return new Promise((function(t,a){var i=n.apply(r,e);function o(n){U(i,t,a,o,c,"next",n)}function c(n){U(i,t,a,o,c,"throw",n)}o(void 0)}))});return function(){return r.apply(this,arguments)}}(),N=new M({button:document.querySelector("#menu"),drawer:document.querySelector("#drawer"),content:document.querySelector("#maincontent")});window.addEventListener("hashchange",(function(){N.renderPage()})),window.addEventListener("load",(function(){N.renderPage(),q()}))}]);